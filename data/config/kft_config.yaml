year: '2024'                       # Year of the flight
month: '09'                         # Month of the flight
day: '27'                           # Day of the flight

simulation_parameters:
  debug: false                      # Debug mode
  timestep: 0.1                       # Timestep in seconds
  n_tether_elements: 30                # Number of tether elements
  doIEKF: true                        # Use iterated extended Kalman filter
  epsilon: 1e-6                       # Tolerance for the IEKF
  max_iterations: 200                 # Maximum number of iterations for the IEKF
  log_profile: false                   # Model wind speed as logarithmic with height
  enforce_vertical_wind_to_0: true               # Enforce the z wind speed to be zero
  model_yaw: false                   # Model the yaw angle in the state vector
  kcu_data: false                     # Boolean for KCU data availability

  measurements:
    kite_position: true                   # Kite position measurement
    kite_velocity: true                   # Kite velocity measurement
    kite_acceleration: false                   # Kite acceleration measurement
    tether_force: true               # Tether force measurement
    tether_length: false              # Tether length measurement
    tether_elevation: false           # Tether elevation angle measurement
    tether_azimuth: false             # Tether azimuth angle measurement
    kcu_position: false                    # KCU position measurement
    kcu_velocity: false                    # KCU velocity measurement
    kcu_acceleration: false                    # KCU acceleration measurement
    kite_apparent_windspeed: false         # Apparent wind speed measurement
    bridle_angle_of_attack: false            # Angle of attack measurement
    bridle_angle_of_sideslip: false             # Sideslip angle measurement
    kite_yaw_angle: false                  # Yaw angle measurement
    kite_thrust_force: true                # Thrust force measurement


kite:
  model_name: 'kitekraft'                # Kite model
  mass: 28.96                        # Mass of the kite in kg
  area: 1.03                    # Area of the kite in m^2
  span: 2                      # Span of the kite in m
  thrust: true                   # Thrust enabled  

kcu: false

tether:
  material_name: 'Kitekraft'   # Material name of the tether
  diameter: 0.005               # Diameter of the tether in m
  n_elements: 5                # Number of tether elements

tuning_parameters:
  meas_stdv:
    x: 2.5              # Standard deviation of the x measurement in m
    v: 1              # Standard deviation of the v measurement in m/s
    tether_length: 1  # Standard deviation of the tether length measurement in m
    tether_elevation: 0.2  # Standard deviation of the elevation measurement in radians
    tether_azimuth: 0.2  # Standard deviation of the azimuth measurement in radians
    least_squares: 1e-5 # Standard deviation of the least squares measurement in m
    yaw: 0.15     # Standard deviation of the yaw measurement in radians
    z_wind: 0.5   # Standard deviation of the z wind measurement in m/s
    va: 0.5   # Standard deviation of the apparent wind speed measurement in m/s
    aoa: 8  # Standard deviation of the angle of attack measurement in degrees
  model_stdv:
    x: 2.5
    v: 1
    uf: 0.005
    wdir: 0.00349  # 0.2 degrees in radians
    vw: 0.03
    vwz: 0.03
    CL: 0.01
    CD: 0.003
    CS: 0.01
    tether_elevation: 0.3
    tether_azimuth: 0.3
    tether_length: 0.1
    yaw: 0.0873
    
postprocess:
  # Posprocessing settings
  remove_IMU_offsets: false  # Remove IMU offsets, only for soft wing with KCU
  correct_IMU_deformation: false # Correct IMU deformation, only for soft wing with KCU
  remove_vane_offsets: false # Remove vane offsets, only for soft wing with KCU
  estimate_kite_angle: false # Estimate kite angle, only for soft wing with KCU